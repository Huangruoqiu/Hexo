{"title":"Angular自定义属性型指令","slug":"Angular自定义属性型指令","date":"2021-08-17T14:09:21.000Z","updated":"2021-08-17T14:09:21.000Z","comments":true,"path":"api/articles/Angular自定义属性型指令.json","excerpt":null,"cover":"https://cdn.jsdelivr.net/gh/huangruoqiu/HexoPicture/cover/Angular%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E5%9E%8B%E6%8C%87%E4%BB%A4.PNG","covers":null,"content":"<p>Angular Directive需要注意的两个地方，下面例子来自官方文档<a href=\"https://angular.cn/guide/attribute-directives\">属性型指令</a>。</p>\n<p>第一，<code>@Directive()</code> 装饰器的配置属性会指定指令的 selector 属性选择器，selector 属性选择器需要加<code>中括号</code>，代码如下。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Directive &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@angular/core&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">&#x27;[appHighlight]&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HighlightDirective</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>第二，<code>@Input()</code> 属性的括号中增加关键字，就可以在使用自定义指令时传参。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 指令文件</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Directive, ElementRef, HostListener, Input &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@angular/core&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">&#x27;[appHighlight]&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HighlightDirective</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> el: ElementRef</span>)</span> &#123; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Input</span>(<span class=\"string\">&#x27;appHighlight&#x27;</span>) highlightColor = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@HostListener</span>(<span class=\"string\">&#x27;mouseenter&#x27;</span>) <span class=\"function\"><span class=\"title\">onMouseEnter</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.highlight(<span class=\"built_in\">this</span>.highlightColor || <span class=\"string\">&#x27;red&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@HostListener</span>(<span class=\"string\">&#x27;mouseleave&#x27;</span>) <span class=\"function\"><span class=\"title\">onMouseLeave</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.highlight(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"title\">highlight</span>(<span class=\"params\">color: <span class=\"built_in\">string</span></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.el.nativeElement.style.backgroundColor = color;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用文件</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@angular/core&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">&#x27;app-root&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">template</span>: <span class=\"string\">`&lt;p [appHighlight]=&quot;&#x27;orange&#x27;&quot;&gt;Highlight&lt;/p&gt;`</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AppComponent</span> </span>&#123;</span><br><span class=\"line\">    color = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>下面是六种相似的模板语句，以及各自的呈现效果。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p appHighlight=<span class=\"string\">&quot;orange&quot;</span>&gt;Highlight&lt;<span class=\"regexp\">/p&gt; /</span><span class=\"regexp\">/ 鼠标悬浮背景色为orange</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;p [appHighlight]=&quot;&#x27;orange&#x27;&quot;&gt;Highlight&lt;/</span>p&gt; <span class=\"comment\">// 鼠标悬浮背景色为orange</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮不改变背景色，因为p不知道要使用自定义指令</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;highlightColor&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮背景色为red，因为使用了自定义指令，但传参失败</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;highlightColor&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br></pre></td></tr></table></figure>\n\n<p>如果将自定义指令的入参 <code>@Input(&#39;appHighlight&#39;) highlightColor = &#39;&#39;;</code> 变更为常见的 <code>@Input() highlightColor = &#39;&#39;;</code> 那么这六条语句效果又会不同。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p appHighlight=<span class=\"string\">&quot;orange&quot;</span>&gt;Highlight&lt;<span class=\"regexp\">/p&gt; /</span><span class=\"regexp\">/ 鼠标悬浮背景色为red，因为使用了自定义指令，但传参失败</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;p [appHighlight]=&quot;&#x27;orange&#x27;&quot;&gt;Highlight&lt;/</span>p&gt; <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;appHighlight&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮不改变背景色，因为p不知道要使用自定义指令</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;highlightColor&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮背景色为orange</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮背景色为orange</span></span><br></pre></td></tr></table></figure>","more":"<p>Angular Directive需要注意的两个地方，下面例子来自官方文档<a href=\"https://angular.cn/guide/attribute-directives\">属性型指令</a>。</p>\n<p>第一，<code>@Directive()</code> 装饰器的配置属性会指定指令的 selector 属性选择器，selector 属性选择器需要加<code>中括号</code>，代码如下。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Directive &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@angular/core&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">&#x27;[appHighlight]&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HighlightDirective</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span> &#123; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>第二，<code>@Input()</code> 属性的括号中增加关键字，就可以在使用自定义指令时传参。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 指令文件</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Directive, ElementRef, HostListener, Input &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@angular/core&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">&#x27;[appHighlight]&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HighlightDirective</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> el: ElementRef</span>)</span> &#123; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Input</span>(<span class=\"string\">&#x27;appHighlight&#x27;</span>) highlightColor = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@HostListener</span>(<span class=\"string\">&#x27;mouseenter&#x27;</span>) <span class=\"function\"><span class=\"title\">onMouseEnter</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.highlight(<span class=\"built_in\">this</span>.highlightColor || <span class=\"string\">&#x27;red&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@HostListener</span>(<span class=\"string\">&#x27;mouseleave&#x27;</span>) <span class=\"function\"><span class=\"title\">onMouseLeave</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.highlight(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"title\">highlight</span>(<span class=\"params\">color: <span class=\"built_in\">string</span></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.el.nativeElement.style.backgroundColor = color;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用文件</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@angular/core&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">&#x27;app-root&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">template</span>: <span class=\"string\">`&lt;p [appHighlight]=&quot;&#x27;orange&#x27;&quot;&gt;Highlight&lt;/p&gt;`</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AppComponent</span> </span>&#123;</span><br><span class=\"line\">    color = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>下面是六种相似的模板语句，以及各自的呈现效果。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p appHighlight=<span class=\"string\">&quot;orange&quot;</span>&gt;Highlight&lt;<span class=\"regexp\">/p&gt; /</span><span class=\"regexp\">/ 鼠标悬浮背景色为orange</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;p [appHighlight]=&quot;&#x27;orange&#x27;&quot;&gt;Highlight&lt;/</span>p&gt; <span class=\"comment\">// 鼠标悬浮背景色为orange</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮不改变背景色，因为p不知道要使用自定义指令</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;highlightColor&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮背景色为red，因为使用了自定义指令，但传参失败</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;highlightColor&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br></pre></td></tr></table></figure>\n\n<p>如果将自定义指令的入参 <code>@Input(&#39;appHighlight&#39;) highlightColor = &#39;&#39;;</code> 变更为常见的 <code>@Input() highlightColor = &#39;&#39;;</code> 那么这六条语句效果又会不同。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p appHighlight=<span class=\"string\">&quot;orange&quot;</span>&gt;Highlight&lt;<span class=\"regexp\">/p&gt; /</span><span class=\"regexp\">/ 鼠标悬浮背景色为red，因为使用了自定义指令，但传参失败</span></span><br><span class=\"line\"><span class=\"regexp\">&lt;p [appHighlight]=&quot;&#x27;orange&#x27;&quot;&gt;Highlight&lt;/</span>p&gt; <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;appHighlight&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮不改变背景色，因为p不知道要使用自定义指令</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 报错：Can&#x27;t bind to &#x27;highlightColor&#x27; since it isn&#x27;t a known property of &#x27;p&#x27;.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> <span class=\"attr\">highlightColor</span>=<span class=\"string\">&quot;orange&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮背景色为orange</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">appHighlight</span> [<span class=\"attr\">highlightColor</span>]=<span class=\"string\">&quot;&#x27;orange&#x27;&quot;</span>&gt;</span>Highlight<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span> <span class=\"comment\">// 鼠标悬浮背景色为orange</span></span><br></pre></td></tr></table></figure>","categories":[],"tags":[{"name":"Angular","path":"api/tags/Angular.json"}]}