{"title":"刷力扣遇到的JS数字问题","slug":"刷力扣遇到的JS数字问题","date":"2021-08-18T07:38:19.000Z","updated":"2021-08-18T07:38:19.000Z","comments":true,"path":"api/articles/刷力扣遇到的JS数字问题.json","excerpt":null,"cover":"https://cdn.jsdelivr.net/gh/huangruoqiu/HexoPicture/cover/%E5%88%B7%E5%8A%9B%E6%89%A3%E9%81%87%E5%88%B0%E7%9A%84JS%E6%95%B0%E5%AD%97%E9%97%AE%E9%A2%98.PNG","covers":null,"content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>记录下刷力扣遇到的JS数字问题。狗都不用JS刷题(╯‵□′)╯︵┻━┻</p>\n<h2 id=\"举例\"><a href=\"#举例\" class=\"headerlink\" title=\"举例\"></a>举例</h2><ol start=\"0\">\n<li><p>经典的0.1 + 0.2 === 0.30000000000000004</p>\n<blockquote>\n<p>双精度浮点数的尾数部分最多支持 52 位，所以0.1、0.2都不能用二进制数精确表示，只能取近似的数，和自然也不是0.3。</p>\n</blockquote>\n</li>\n<li><p>Math.pow(3, 34) !== 3^34。相关题目<a href=\"https://leetcode-cn.com/problems/painting-a-grid-with-three-different-colors/\">1931. 用三种不同颜色为网格涂色</a>。</p>\n<blockquote>\n<p>从1到Number.MAX_VALUE中间的数字并不连续，而是离散的。所以这里引出了最大安全值Number.MAX_SAFE_INTEGER，也就是从Number.MIN_SAFE_INTEGER到Number.MAX_SAFE_INTEGER中间的数字都是连续的，处在这个范围内的数值计算都是安全的。</p>\n</blockquote>\n</li>\n<li><p>parseInt(“83598933472122816064”) === 83598933472122810000。相关题目<a href=\"https://leetcode-cn.com/problems/find-the-kth-largest-integer-in-the-array/\">1985. 找出数组中的第 K 大整数</a>。</p>\n<blockquote>\n<p>原因同上。</p>\n</blockquote>\n</li>\n<li><p>[“9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999990001”, “9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999990000”]通过sort((a, b) =&gt; a - b)无法排序。相关题目<a href=\"https://leetcode-cn.com/problems/find-the-kth-largest-integer-in-the-array/\">1985. 找出数组中的第 K 大整数</a>。</p>\n<blockquote>\n<p>数字字符串的减法是转成数字去做的，同样是因为超出了Number.MAX_SAFE_INTEGER，导致两数相减为0。</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://segmentfault.com/a/1190000017545048\">js 中的 number 为何很怪异</a></p>\n","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>记录下刷力扣遇到的JS数字问题。狗都不用JS刷题(╯‵□′)╯︵┻━┻</p>\n<h2 id=\"举例\"><a href=\"#举例\" class=\"headerlink\" title=\"举例\"></a>举例</h2><ol start=\"0\">\n<li><p>经典的0.1 + 0.2 === 0.30000000000000004</p>\n<blockquote>\n<p>双精度浮点数的尾数部分最多支持 52 位，所以0.1、0.2都不能用二进制数精确表示，只能取近似的数，和自然也不是0.3。</p>\n</blockquote>\n</li>\n<li><p>Math.pow(3, 34) !== 3^34。相关题目<a href=\"https://leetcode-cn.com/problems/painting-a-grid-with-three-different-colors/\">1931. 用三种不同颜色为网格涂色</a>。</p>\n<blockquote>\n<p>从1到Number.MAX_VALUE中间的数字并不连续，而是离散的。所以这里引出了最大安全值Number.MAX_SAFE_INTEGER，也就是从Number.MIN_SAFE_INTEGER到Number.MAX_SAFE_INTEGER中间的数字都是连续的，处在这个范围内的数值计算都是安全的。</p>\n</blockquote>\n</li>\n<li><p>parseInt(“83598933472122816064”) === 83598933472122810000。相关题目<a href=\"https://leetcode-cn.com/problems/find-the-kth-largest-integer-in-the-array/\">1985. 找出数组中的第 K 大整数</a>。</p>\n<blockquote>\n<p>原因同上。</p>\n</blockquote>\n</li>\n<li><p>[“9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999990001”, “9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999990000”]通过sort((a, b) =&gt; a - b)无法排序。相关题目<a href=\"https://leetcode-cn.com/problems/find-the-kth-largest-integer-in-the-array/\">1985. 找出数组中的第 K 大整数</a>。</p>\n<blockquote>\n<p>数字字符串的减法是转成数字去做的，同样是因为超出了Number.MAX_SAFE_INTEGER，导致两数相减为0。</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://segmentfault.com/a/1190000017545048\">js 中的 number 为何很怪异</a></p>\n","categories":[],"tags":[{"name":"JS","path":"api/tags/JS.json"},{"name":"力扣","path":"api/tags/力扣.json"}]}